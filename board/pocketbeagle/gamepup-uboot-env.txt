fdtfile=am335x-pocketbeagle.dtb
overlays=PB-SPI0-DISPLAY-GAMEPUP-CAPE.dtbo PB-PWM-SPKR-GAMEPUP-CAPE.dtbo PB-LEDS-GAMEPUP-CAPE.dtbo PB-KEYBOARD-GAMEPUP-CAPE.dtbo AM335X-PRU-RPROC-4-14-TI-00A0.dtbo
bootcmd=run loadimage;run loadfdt;run loadoverlays;bootz ${loadaddr} - ${fdtaddr}
bootargs=console=ttyS0,115200n8 root=/dev/mmcblk0p1 ro rootfstype=ext4 rootwait
loadaddr=0x82000000
fdt_buffer=0x60000
fdtaddr=88000000
rdaddr=0x88080000
loadimage=mmc dev 0;load mmc 0:1 ${loadaddr} /boot/zImage
loadfdt=mmc dev 0;load mmc 0:1 ${fdtaddr} /boot/${fdtfile}
loadoverlays=for i in ${overlays};do setenv overlay $i;run loadoverlay;done
loadoverlay=mmc dev 0;load mmc 0:1 ${rdaddr} /lib/firmware/${overlay};run fdtapply
fdtapply=fdt addr ${fdtaddr};fdt resize ${fdt_buffer};fdt apply ${rdaddr};fdt resize ${fdt_buffer}

